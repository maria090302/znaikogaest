<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ–Ω—Ç—Ä–æ–ª–ö–æ! –ö–∞–ª–∫—É–ª–∞—Ç–æ—Ä</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.21.2/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body, html {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            width: 100%;
            overflow-x: hidden;
            background-color: transparent;
            height: 100%;
        }
        .app-container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            height: 100%;
        }
        input[type="range"] {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #e5e7eb;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            border: none;
        }
        button {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <div id="kontrolko-app" class="app-container"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        const WidmarkCalculator = () => {
          // –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–∞–Ω–Ω–∏
          const [gender, setGender] = useState('male');
          const [weight, setWeight] = useState(70);
          const [drinks, setDrinks] = useState({
            beer: 0,
            wine: 0,
            spirits: 0,
            custom: 0
          });
          const [customDrink, setCustomDrink] = useState({
            alcoholContent: '',
            volume: ''
          });
          const [activeTab, setActiveTab] = useState('calculator');
          
          // –†–µ–∑—É–ª—Ç–∞—Ç–∏
          const [bac, setBac] = useState(0);
          const [soberTime, setSoberTime] = useState(0);
          const [effectLevel, setEffectLevel] = useState('');
          
          // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∑–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark
          const r = gender === 'male' ? 0.68 : 0.55; // –§–∞–∫—Ç–æ—Ä –∑–∞ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–º—ä–∂–µ: 0.68, –∂–µ–Ω–∏: 0.55)
          const metabolismRate = 0.015; // –°–∫–æ—Ä–æ—Å—Ç –Ω–∞ –µ–ª–∏–º–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –∞–ª–∫–æ—Ö–æ–ª (% –Ω–∞ —á–∞—Å)
          
          // –ê–ª–∫–æ—Ö–æ–ª–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –∏ –æ–±–µ–º –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –Ω–∞–ø–∏—Ç–∫–∏
          const drinkDefinitions = {
            beer: { alcoholContent: 0.05, volume: 500 }, // 5% –±–∏—Ä–∞, 500–º–ª
            wine: { alcoholContent: 0.12, volume: 150 }, // 12% –≤–∏–Ω–æ, 150–º–ª
            spirits: { alcoholContent: 0.40, volume: 50 } // 40% —Å–ø–∏—Ä—Ç–Ω–∏ –Ω–∞–ø–∏—Ç–∫–∏, 50–º–ª
          };
          
          // –ò–∑—á–∏—Å–ª–µ–Ω–∏—è –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark
          const calculateBAC = () => {
            // –í–∞–ª–∏–¥–∏—Ä–∞–º–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ –º–æ—è—Ç–∞ –Ω–∞–ø–∏—Ç–∫–∞ –∑–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ—Ç–æ
            const validCustomDrink = {
              alcoholContent: customDrink.alcoholContent === '' ? 0 : parseFloat(customDrink.alcoholContent),
              volume: customDrink.volume === '' ? 0 : parseFloat(customDrink.volume)
            };
            
            // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å—Ç –∞–ª–∫–æ—Ö–æ–ª –≤ –≥—Ä–∞–º–æ–≤–µ
            const totalAlcohol = 
              (drinks.beer * drinkDefinitions.beer.alcoholContent * drinkDefinitions.beer.volume) +
              (drinks.wine * drinkDefinitions.wine.alcoholContent * drinkDefinitions.wine.volume) +
              (drinks.spirits * drinkDefinitions.spirits.alcoholContent * drinkDefinitions.spirits.volume) +
              (drinks.custom * validCustomDrink.volume * validCustomDrink.alcoholContent);
            
            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –º–ª –≤ –≥—Ä–∞–º–æ–≤–µ (0.789 –µ –ø–ª—ä—Ç–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –µ—Ç–∞–Ω–æ–ª–∞)
            const alcoholGrams = totalAlcohol * 0.789;
            
            // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark –±–µ–∑ –≤—Ä–µ–º–µ–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: BAC = A / (r * W)
            // A = –∞–ª–∫–æ—Ö–æ–ª –≤ –≥—Ä–∞–º–æ–≤–µ
            // r = –∫–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
            // W = —Ç–µ–≥–ª–æ –≤ –∫–≥
            
            const calculatedBAC = (alcoholGrams / (r * weight * 1000)) * 100;
            return calculatedBAC > 0 ? calculatedBAC : 0;
          };
          
          // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –µ—Ñ–µ–∫—Ç–∏ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –Ω–∏–≤–∞
          const getEffectLevel = (bacLevel) => {
            if (bacLevel < 0.01) return "–ù–æ—Ä–º–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –±–µ–∑ –≤–∏–¥–∏–º–∏ –µ—Ñ–µ–∫—Ç–∏.";
            if (bacLevel < 0.05) return "–£—Å–µ—â–∞–Ω–µ –∑–∞ —Ç–æ–ø–ª–∏–Ω–∞, –ø—Ä–∏–∫–∞–∑–ª–∏–≤–æ—Å—Ç, –ø–æ–≤–∏—à–µ–Ω–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ.";
            if (bacLevel < 0.08) return "–ü–∞–¥–∞–Ω–µ –Ω–∞ –∑–∞–¥—Ä—ä–∂–∫–∏, —Å–∞–º–æ–Ω–∞–¥–µ—è–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤–ª–æ—à–∞–≤–∞–Ω–µ –Ω–∞ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ.";
            if (bacLevel < 0.15) return "–ù–µ—è—Å–Ω–∞ —Ä–µ—á, –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏—è—Ç–∞, –∑–∞–≥—É–±–∞ –Ω–∞ –ø—Ä–µ—Ü–µ–Ω–∫–∞.";
            if (bacLevel < 0.30) return "–ù–∞–º–∞–ª–µ–Ω –∑—Ä–∏—Ç–µ–ª–µ–Ω —Ñ–æ–∫—É—Å, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç –æ—Ç –ø–æ–≤—Ä—ä—â–∞–Ω–µ, –∑–∞–≥—É–±–∞ –Ω–∞ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ –∏ —É—á–∞—Å—Ç–∏–µ –≤ —Å—ä–±–∏—Ç–∏—è, –∫–æ–∏—Ç–æ –Ω—è–º–∞ –¥–∞ –ø–æ–º–Ω–∏—Ç–µ.";
            return "–û–ø–∞—Å–Ω–æ—Å—Ç –æ—Ç –∞–ª–∫–æ—Ö–æ–ª–Ω–æ –Ω–∞—Ç—Ä–∞–≤—è–Ω–µ –∏ –∂–∏–≤–æ—Ç–æ–∑–∞—Å—Ç—Ä–∞—à–∞–≤–∞—â–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.";
          };
          
          // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω —Å—ä–≤–µ—Ç –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ BAC
          const getAdvice = (bacLevel) => {
            if (bacLevel < 0.01) return "–ê–∫–æ —Ä–µ—à–∏—à –¥–∞ –ø–∏–µ—à, –ø–ª–∞–Ω–∏—Ä–∞–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∫–∞–∫ —â–µ —Å–µ –ø—Ä–∏–±–µ—Ä–µ—à –≤–∫—ä—â–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ.";
            if (bacLevel < 0.05) return "–û–ø–∏—Ç–∞–π —Å–µ –¥–∞ –ø–∏–µ—à –ø–æ –µ–¥–Ω–∞ –Ω–∞–ø–∏—Ç–∫–∞ –Ω–∞ —á–∞—Å –∏ –¥–∞ —è —Ä–µ–¥—É–≤–∞—à —Å –≤–æ–¥–∞ –∏–ª–∏ –±–µ–∑–∞–ª–∫–æ—Ö–æ–ª–Ω–∏ –Ω–∞–ø–∏—Ç–∫–∏.";
            if (bacLevel < 0.08) return "–ó–∞–±–∞–≤–∏ —Ç–µ–º–ø–æ—Ç–æ - –Ω–µ –µ –∑–ª–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à –ø–∞—É–∑–∞ –∏ –¥–∞ —Ö–∞–ø–Ω–µ—à –Ω–µ—â–æ.";
            if (bacLevel < 0.15) return "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è—Ç–∞ —Ç–∏ –µ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –Ω–∞–º–∞–ª–µ–Ω–∞. –°–ø—Ä–∏ —Å –∞–ª–∫–æ—Ö–æ–ª–∞ –∏ –∏–∑–ø–æ–ª–∑–≤–∞–π —Ç–∞–∫—Å–∏, –≥—Ä–∞–¥—Å–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–ª–∏ –ø–æ–º–æ—â –æ—Ç —Ç—Ä–µ–∑–≤–µ–Ω –ø—Ä–∏—è—Ç–µ–ª, –∑–∞ –¥–∞ —Å–µ –ø—Ä–∏–±–µ—Ä–µ—à.";
            if (bacLevel < 0.30) return "–ù–µ –æ—Å—Ç–∞–≤–∞–π —Å–∞–º –∏ –Ω–µ –≤–∑–∏–º–∞–π —Ä–µ—à–µ–Ω–∏—è. –ü–∏–π –≤–æ–¥–∞ –∏ –ø–æ—Ç—ä—Ä—Å–∏ –ø–æ–º–æ—â –∑–∞ –ø—Ä–∏–±–∏—Ä–∞–Ω–µ.";
            return "–ü–æ—Ç—ä—Ä—Å–∏ –ø–æ–º–æ—â, –Ω–µ –ø—Ä–µ–¥–ø—Ä–∏–µ–º–∞–π –Ω–∏—â–æ —Å–∞–º.";
          };
          
          // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ –¥–æ –∏–∑—Ç—Ä–µ–∑–Ω—è–≤–∞–Ω–µ
          const calculateSoberTime = (bacLevel) => {
            return bacLevel / metabolismRate;
          };
          
          // –ü—Ä–µ–∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –≤—Ö–æ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏
          useEffect(() => {
            const calculatedBAC = calculateBAC();
            setBac(calculatedBAC);
            setSoberTime(calculateSoberTime(calculatedBAC));
            setEffectLevel(getEffectLevel(calculatedBAC));
          }, [gender, weight, drinks, customDrink]);
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ –æ–±–µ–º–∞
          const handleVolumeChange = (e) => {
            const value = e.target.value;
            if (value === '') {
              setCustomDrink({...customDrink, volume: ''});
            } else {
              const numValue = parseInt(value);
              if (!isNaN(numValue)) {
                setCustomDrink({...customDrink, volume: numValue});
              }
            }
          };
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∞–ª–∫–æ—Ö–æ–ª
          const handleAlcoholChange = (e) => {
            const value = e.target.value;
            if (value === '') {
              setCustomDrink({...customDrink, alcoholContent: ''});
            } else {
              const numValue = parseFloat(value);
              if (!isNaN(numValue)) {
                setCustomDrink({...customDrink, alcoholContent: numValue / 100});
              }
            }
          };

          // –°—Ç–∏–ª–æ–≤–µ
          const styles = {
            container: {
              width: '100%',
              maxWidth: '100%',
              margin: '0 auto',
              boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
              border: '1px solid #e5e7eb',
              borderRadius: '0.5rem',
              backgroundColor: '#ffffff'
            },
            innerContainer: {
              padding: '1rem',
            },
            header: {
              textAlign: 'center',
              marginBottom: '1.5rem'
            },
            title: {
              fontSize: '1.5rem',
              fontWeight: 'bold',
              marginBottom: '0.5rem'
            },
            subtitle: {
              color: '#6b7280'
            },
            tabs: {
              display: 'grid',
              gridTemplateColumns: '1fr 1fr',
              marginBottom: '1.5rem',
              backgroundColor: '#f3f4f6',
              borderRadius: '0.5rem',
              overflow: 'hidden'
            },
            tabButton: {
              padding: '0.5rem',
              textAlign: 'center',
              fontWeight: '500',
              cursor: 'pointer',
              border: 'none',
              background: 'none'
            },
            activeTab: {
              backgroundColor: '#3b82f6',
              color: 'white'
            },
            section: {
              marginBottom: '1.5rem'
            },
            label: {
              fontWeight: '500',
              marginBottom: '0.5rem',
              display: 'block'
            },
            genderButtons: {
              display: 'grid',
              gridTemplateColumns: '1fr 1fr',
              gap: '0.5rem'
            },
            genderButton: {
              padding: '0.5rem 1rem',
              borderRadius: '0.375rem',
              backgroundColor: '#f3f4f6',
              border: 'none',
              cursor: 'pointer'
            },
            activeMale: {
              backgroundColor: '#dbeafe',
              border: '1px solid #3b82f6'
            },
            activeFemale: {
              backgroundColor: '#fce7f3',
              border: '1px solid #db2777'
            },
            weightContainer: {
              marginBottom: '0.5rem'
            },
            weightLabel: {
              display: 'flex',
              justifyContent: 'space-between',
              marginBottom: '0.5rem'
            },
            slider: {
              width: '100%'
            },
            drinkItem: {
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center',
              padding: '0.75rem',
              backgroundColor: '#f9fafb',
              borderRadius: '0.375rem',
              marginBottom: '1rem'
            },
            drinkLabel: {
              display: 'flex',
              alignItems: 'center'
            },
            counter: {
              display: 'flex',
              alignItems: 'center',
              gap: '0.5rem'
            },
            counterButton: {
              width: '2rem',
              height: '2rem',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              backgroundColor: '#e5e7eb',
              borderRadius: '9999px',
              border: 'none',
              cursor: 'pointer'
            },
            counterDisplay: {
              width: '2rem',
              textAlign: 'center'
            },
            customDrink: {
              padding: '0.75rem',
              backgroundColor: '#f9fafb',
              borderRadius: '0.375rem',
              marginBottom: '1rem'
            },
            customDrinkContainer: {
              display: 'flex',
              flexWrap: 'wrap',
              gap: '0.5rem',
              justifyContent: 'space-between'
            },
            customDrinkTop: {
              display: 'flex',
              flexWrap: 'wrap',
              alignItems: 'center',
              gap: '0.5rem'
            },
            inputSm: {
              width: '4rem',
              padding: '0.25rem',
              borderRadius: '0.375rem',
              border: '1px solid #d1d5db',
              fontSize: '0.875rem'
            },
            calculateButton: {
              width: '100%',
              padding: '0.75rem',
              backgroundColor: '#3b82f6',
              color: 'white',
              fontWeight: 'bold',
              borderRadius: '0.375rem',
              border: 'none',
              cursor: 'pointer',
              marginTop: '1.5rem'
            },
            results: {
              padding: '1rem',
              borderRadius: '0.5rem'
            },
            resultHeader: {
              textAlign: 'center',
              marginBottom: '1rem'
            },
            resultTitle: {
              fontSize: '1.25rem',
              fontWeight: 'bold',
              marginBottom: '0.25rem'
            },
            resultSubtitle: {
              fontSize: '0.875rem',
              color: '#4b5563'
            },
            resultItem: {
              backgroundColor: 'rgba(255, 255, 255, 0.7)',
              padding: '0.75rem',
              borderRadius: '0.375rem',
              marginBottom: '1rem'
            },
            resultRow: {
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center'
            },
            resultLabel: {
              display: 'flex',
              alignItems: 'center'
            },
            resultIcon: {
              marginRight: '0.5rem'
            },
            resultText: {
              fontWeight: '500'
            },
            resultValue: {
              fontWeight: 'bold'
            },
            resultEffect: {
              marginBottom: '0.25rem',
              fontWeight: '500'
            },
            resultEffectText: {
              fontSize: '0.875rem'
            },
            advice: {
              padding: '0.75rem',
              backgroundColor: '#eff6ff',
              borderRadius: '0.375rem'
            },
            adviceTitle: {
              marginBottom: '0.25rem',
              fontWeight: '500'
            },
            adviceText: {
              fontSize: '0.875rem'
            },
            backButton: {
              width: '100%',
              padding: '0.5rem',
              backgroundColor: '#3b82f6',
              color: 'white',
              fontWeight: '500',
              borderRadius: '0.375rem',
              border: 'none',
              cursor: 'pointer',
              marginTop: '1rem'
            },
            disclaimer: {
              marginTop: '1.5rem',
              fontSize: '0.75rem',
              color: '#6b7280',
              textAlign: 'center'
            }
          };

          // –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –º–µ–¥–∏–∞ –∑–∞—è–≤–∫–∏ –∑–∞ —Ä–µ—Å–ø–æ–Ω—Å–∏–≤–Ω–æ—Å—Ç
          const isMobile = window.innerWidth < 640;
          
          return (
            <div style={styles.container}>
              <div style={styles.innerContainer}>
                <div style={styles.header}>
                  <h2 style={styles.title}>–ö–æ–Ω—Ç—Ä–æ–ª–ö–æ!</h2>
                  <p style={styles.subtitle}>–ó–Ω–∞–π –∫–æ–≥–∞ –µ —Å—Ç–æ–ø - –æ—Å—Ç–∞–Ω–∏ —Ç–æ–ø!</p>
                </div>
                
                <div style={{width: '100%'}}>
                  <div style={styles.tabs}>
                    <button 
                      style={{...styles.tabButton, ...(activeTab === 'calculator' ? styles.activeTab : {})}}
                      onClick={() => setActiveTab('calculator')}
                    >
                      –ö–æ–Ω—Ç—Ä–æ–ª–ö–æ!
                    </button>
                    <button 
                      style={{...styles.tabButton, ...(activeTab === 'results' ? styles.activeTab : {})}}
                      onClick={() => setActiveTab('results')}
                    >
                      –†–µ–∑—É–ª—Ç–∞—Ç–∏
                    </button>
                  </div>
                  
                  {activeTab === 'calculator' && (
                    <div>
                      {/* –ü–æ–ª */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <label style={styles.label}>–ü–æ–ª</label>
                        <div style={styles.genderButtons}>
                          <button 
                            style={{
                              ...styles.genderButton, 
                              ...(gender === 'male' ? styles.activeMale : {})
                            }}
                            onClick={() => setGender('male')}
                          >
                            –ú—ä–∂
                          </button>
                          <button 
                            style={{
                              ...styles.genderButton, 
                              ...(gender === 'female' ? styles.activeFemale : {})
                            }}
                            onClick={() => setGender('female')}
                          >
                            –ñ–µ–Ω–∞
                          </button>
                        </div>
                      </div>
                      
                      {/* –¢–µ–≥–ª–æ */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <div style={styles.weightLabel}>
                          <label style={{fontWeight: '500'}}>–¢–µ–≥–ª–æ</label>
                          <span>{weight} –∫–≥</span>
                        </div>
                        <input 
                          type="range" 
                          min="40" 
                          max="120" 
                          value={weight}
                          style={styles.slider}
                          onChange={(e) => setWeight(parseInt(e.target.value))}
                        />
                      </div>
                      
                      {/* –ù–∞–ø–∏—Ç–∫–∏ */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <label style={styles.label}>–ù–∞–ø–∏—Ç–∫–∏</label>
                        
                        <div style={styles.drinkItem}>
                          <div style={styles.drinkLabel}>
                            <span style={{marginRight: '0.5rem'}}>ü•É</span>
                            <span style={{fontSize: isMobile ? '0.875rem' : '1rem'}}>–°–ø–∏—Ä—Ç–Ω–∞ –Ω–∞–ø–∏—Ç–∫–∞ (50–º–ª, 40%)</span>
                          </div>
                          <div style={styles.counter}>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, spirits: Math.max(0, drinks.spirits - 1)})}
                            >
                              -
                            </button>
                            <span style={styles.counterDisplay}>{drinks.spirits}</span>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, spirits: drinks.spirits + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={styles.drinkItem}>
                          <div style={styles.drinkLabel}>
                            <span style={{marginRight: '0.5rem'}}>üç∫</span>
                            <span style={{fontSize: isMobile ? '0.875rem' : '1rem'}}>–ë–∏—Ä–∞ (500–º–ª, 5%)</span>
                          </div>
                          <div style={styles.counter}>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, beer: Math.max(0, drinks.beer - 1)})}
                            >
                              -
                            </button>
                            <span style={styles.counterDisplay}>{drinks.beer}</span>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, beer: drinks.beer + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={styles.drinkItem}>
                          <div style={styles.drinkLabel}>
                            <span style={{marginRight: '0.5rem'}}>üç∑</span>
                            <span style={{fontSize: isMobile ? '0.875rem' : '1rem'}}>–í–∏–Ω–æ (150–º–ª, 12%)</span>
                          </div>
                          <div style={styles.counter}>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, wine: Math.max(0, drinks.wine - 1)})}
                            >
                              -
                            </button>
                            <span style={styles.counterDisplay}>{drinks.wine}</span>
                            <button 
                              style={styles.counterButton}
                              onClick={() => setDrinks({...drinks, wine: drinks.wine + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={styles.customDrink}>
                          <div style={styles.customDrinkContainer}>
                            <div style={styles.customDrinkTop}>
                              <span style={{fontSize: isMobile ? '0.875rem' : '1rem'}}>–ú–æ—è –Ω–∞–ø–∏—Ç–∫–∞</span>
                              <input 
                                type="text" 
                                style={styles.inputSm}
                                value={customDrink.volume === '' ? '' : customDrink.volume}
                                onChange={handleVolumeChange}
                                placeholder="–º–ª"
                              />
                              <input 
                                type="text" 
                                style={{...styles.inputSm, width: '3rem'}}
                                value={customDrink.alcoholContent === '' ? '' : (customDrink.alcoholContent * 100)}
                                onChange={handleAlcoholChange}
                                placeholder="%"
                              />
                            </div>
                            <div style={styles.counter}>
                              <button 
                                style={styles.counterButton}
                                onClick={() => setDrinks({...drinks, custom: Math.max(0, drinks.custom - 1)})}
                              >
                                -
                              </button>
                              <span style={styles.counterDisplay}>{drinks.custom}</span>
                              <button 
                                style={styles.counterButton}
                                onClick={() => setDrinks({...drinks, custom: drinks.custom + 1})}
                              >
                                +
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                      {/* –ë—É—Ç–æ–Ω –ò–∑—á–∏—Å–ª–∏ */}
                      <button 
                        style={styles.calculateButton}
                        onClick={() => setActiveTab('results')}
                      >
                        –ò–∑—á–∏—Å–ª–∏
                      </button>
                    </div>
                  )}
                  
                  {activeTab === 'results' && (
                    <div 
                      style={{
                        ...styles.results, 
                        backgroundColor: bac < 0.01 ? '#f0fdf4' : 
                                        bac < 0.05 ? '#dcfce7' :
                                        bac < 0.08 ? '#fef9c3' :
                                        bac < 0.15 ? '#fef08a' :
                                        bac < 0.30 ? '#fed7aa' : '#fecaca'
                      }}
                    >
                      <div style={styles.resultHeader}>
                        <h3 style={styles.resultTitle}>–†–µ–∑—É–ª—Ç–∞—Ç–∏</h3>
                        <p style={styles.resultSubtitle}>–ë–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark</p>
                      </div>
                      
                      <div>
                        <div style={styles.resultItem}>
                          <div style={styles.resultRow}>
                            <div style={styles.resultLabel}>
                              <span style={styles.resultIcon}>üìä</span>
                              <span style={styles.resultText}>–ù–∏–≤–æ –Ω–∞ –∞–ª–∫–æ—Ö–æ–ª –≤ –∫—Ä—ä–≤—Ç–∞:</span>
                            </div>
                            <span style={styles.resultValue}>{bac.toFixed(3)}%</span>
                          </div>
                        </div>
                        
                        <div style={styles.resultItem}>
                          <div style={styles.resultRow}>
                            <div style={styles.resultLabel}>
                              <span style={styles.resultIcon}>‚è±Ô∏è</span>
                              <span style={styles.resultText}>–í—Ä–µ–º–µ –¥–æ –∏–∑—Ç—Ä–µ–∑–Ω—è–≤–∞–Ω–µ:</span>
                            </div>
                            <span style={styles.resultValue}>
                              {Math.floor(soberTime)} —á {Math.round((soberTime - Math.floor(soberTime)) * 60)} –º–∏–Ω
                            </span>
                          </div>
                        </div>
                        
                        <div style={styles.resultItem}>
                          <div style={styles.resultEffect}>–í–µ—Ä–æ—è—Ç–Ω–∏ –µ—Ñ–µ–∫—Ç–∏:</div>
                          <div style={styles.resultEffectText}>{effectLevel}</div>
                        </div>
                        
                        <div style={styles.advice}>
                          <div style={styles.adviceTitle}>–°—ä–≤–µ—Ç –æ—Ç –º–µ–Ω:</div>
                          <div style={styles.adviceText}>{getAdvice(bac)}</div>
                        </div>
                      </div>
                      
                      <button 
                        style={styles.backButton}
                        onClick={() => setActiveTab('calculator')}
                      >
                        –ù–∞–∑–∞–¥ –∫—ä–º –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä–∞
                      </button>
                    </div>
                  )}
                </div>
                
                <div style={styles.disclaimer}>
                  –í–∞–∂–Ω–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞: –ò–∑—á–∏—Å–ª–µ–Ω–∏—è—Ç–∞ —Å–∞ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–∏ –∏ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –∑–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏ —Ü–µ–ª–∏ –∏–ª–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ –≥–æ–¥–Ω–æ—Å—Ç –∑–∞ —à–æ—Ñ–∏—Ä–∞–Ω–µ.
                </div>
              </div>
            </div>
          );
        };

        // –†–µ–Ω–¥–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ DOM-–∞
        ReactDOM.render(<WidmarkCalculator />, document.getElementById('kontrolko-app'));
    </script>
</body>
</html>